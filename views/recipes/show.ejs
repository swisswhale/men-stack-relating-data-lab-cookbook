<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
        <h1>
            <%= recipe.name %>
        </h1>
        <p><strong>Instructions:</strong>
            <%= recipe.instructions %>
        </p>
        <h2>Ingredients</h2>
        <% if (recipe.ingredients.length> 0) { %>
            <ul>
                <% recipe.ingredients.forEach(ingredient=> { %>
                    <li>
                        <%= ingredient.name %>
                    </li>
                    <% }) %>
            </ul>
            <% } else { %>
                <p>No ingredients added yet.</p>
                <% } %>

                    <hr>

                    <!-- Edit & Delete Buttons (Only if the logged-in user is the owner) -->
                    <% if (user && user._id.toString()===recipe.owner.toString()) { %>
                        <a href="/recipes/<%= recipe._id %>/edit">Edit Recipe</a>

                        <form action="/recipes/<%= recipe._id %>?_method=DELETE" method="POST" style="display: inline;">
                            <button type="submit"
                                onclick="return confirm('Are you sure you want to delete this recipe?');">
                                Delete Recipe
                            </button>
                        </form>
                        <% } %>

                            <a href="/recipes">Back to Recipes</a>
</body>

</html>